<?php

/**
 * Thankyou page
 *
 * This template can be overridden by copying it to yourtheme/woocommerce/checkout/thankyou.php.
 *
 * HOWEVER, on occasion WooCommerce will need to update template files and you
 * (the theme developer) will need to copy the new files to your theme to
 * maintain compatibility. We try to do this as little as possible, but it does
 * happen. When this occurs the version of the template file will be bumped and
 * the readme will list any important changes.
 *
 * @see https://docs.woocommerce.com/document/template-structure/
 * @package WooCommerce\Templates
 * @version 3.7.0
 */

defined('ABSPATH') || exit;
?>

<div class="woocommerce-order">

  <?php
  if ($order) :

    do_action('woocommerce_before_thankyou', $order->get_id());
  ?>

    <?php if ($order->has_status('failed')) : ?>

      <p class="woocommerce-notice woocommerce-notice--error woocommerce-thankyou-order-failed"><?php esc_html_e('Unfortunately your order cannot be processed as the originating bank/merchant has declined your transaction. Please attempt your purchase again.', 'woocommerce'); ?></p>

      <p class="woocommerce-notice woocommerce-notice--error woocommerce-thankyou-order-failed-actions">
        <a href="<?php echo esc_url($order->get_checkout_payment_url()); ?>" class="button pay"><?php esc_html_e('Pay', 'woocommerce'); ?></a>
        <?php if (is_user_logged_in()) : ?>
          <a href="<?php echo esc_url(wc_get_page_permalink('myaccount')); ?>" class="button pay"><?php esc_html_e('My account', 'woocommerce'); ?></a>
        <?php endif; ?>
      </p>

    <?php else : ?>
<div class="thank-you__bg">
<div class="container">
      <div class="my-cart-steps">
        <a href="<?php echo esc_url(wc_get_cart_url()); ?>" class="my-cart-step active-step">
          <?php echo pll__('shopping_cart_nav'); ?>
        </a>
        <span class="my-cart-step-separator">
          <svg width="15" height="30" viewBox="0 0 15 30" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12.1875 15L0 27.1875V30L15 15L0 0V2.81248L12.1875 15Z" fill="#B1BDC9" />
          </svg>
        </span>
        <p class="my-cart-step active-step">
          <?php echo pll__('checkout_detales_nav'); ?>
        </p>
        <span class="my-cart-step-separator">
          <svg width="15" height="30" viewBox="0 0 15 30" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12.1875 15L0 27.1875V30L15 15L0 0V2.81248L12.1875 15Z" fill="#B1BDC9" />
          </svg>
        </span>
        <p class="my-cart-step active-step">
          <?php echo pll__('order_complete_nav'); ?>
        </p>
      </div>
<div class="thank-you__inner-bg">
      <div class="thank-you__icon">
        <svg width="90" height="90" viewBox="0 0 90 90" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M80.6634 47.7371C82.8776 45.8757 84.6184 43.5153 85.7427 40.8501C86.8669 38.1848 87.3426 35.2908 87.1304 32.4059C86.9183 29.521 86.0244 26.7277 84.5224 24.2555C83.0203 21.7834 80.953 19.7031 78.4903 18.1856C76.0276 16.6682 73.2399 15.7569 70.3564 15.5267C67.4729 15.2965 64.576 15.7541 61.9037 16.8616C59.2315 17.9692 56.8603 19.6952 54.9851 21.8978C53.1099 24.1003 51.7843 26.7165 51.1172 29.5312H34.4004C33.9074 28.6762 33.1979 27.9661 32.3433 27.4724C31.4887 26.9786 30.5191 26.7187 29.5321 26.7187C28.5452 26.7187 27.5756 26.9786 26.721 27.4724C25.8664 27.9661 25.1569 28.6762 24.6639 29.5312H7.03125C5.91237 29.5312 4.83931 29.9757 4.04814 30.7669C3.25697 31.558 2.8125 32.6311 2.8125 33.75C2.8125 34.8688 3.25697 35.9419 4.04814 36.7331C4.83931 37.5242 5.91237 37.9687 7.03125 37.9687H8.68201L10.3628 46.7108L6.61869 50.455C5.82898 51.2467 5.38549 52.3192 5.38549 53.4375C5.38549 54.5557 5.82898 55.6283 6.61869 56.4199L6.86145 56.6627C7.57673 57.3776 8.5253 57.8114 9.53394 57.8849C10.5426 57.9583 11.544 57.6665 12.3553 57.0628L14.6171 68.8275C14.9274 70.4315 15.7859 71.8777 17.0454 72.9183C18.3049 73.9589 19.8871 74.5291 21.5209 74.5312H68.4791C70.113 74.5291 71.6952 73.9589 72.9548 72.9183C74.2144 71.8777 75.0729 70.4314 75.3833 68.8273L77.645 57.0628C78.4564 57.6664 79.4577 57.9581 80.4663 57.8847C81.4749 57.8112 82.4234 57.3775 83.1387 56.6627L83.3815 56.4199C84.1719 55.6286 84.6158 54.5559 84.6158 53.4375C84.6158 52.319 84.1719 51.2463 83.3815 50.455L80.6634 47.7371ZM68.9062 18.2812C71.9657 18.2812 74.9564 19.1884 77.5002 20.8882C80.044 22.5879 82.0267 25.0038 83.1975 27.8303C84.3683 30.6569 84.6746 33.7671 84.0778 36.7678C83.4809 39.7684 82.0077 42.5247 79.8443 44.688C77.681 46.8514 74.9247 48.3246 71.924 48.9215C68.9234 49.5183 65.8132 49.212 62.9866 48.0412C60.1601 46.8704 57.7442 44.8878 56.0445 42.3439C54.3447 39.8001 53.4375 36.8094 53.4375 33.75C53.4422 29.6488 55.0734 25.717 57.9733 22.817C60.8733 19.9171 64.8051 18.2859 68.9062 18.2812ZM60.4688 49.9638C61.3715 50.4356 62.3123 50.8305 63.2812 51.1446V61.875C63.2812 62.2479 63.1331 62.6056 62.8694 62.8693C62.6056 63.1331 62.248 63.2812 61.875 63.2812C61.502 63.2812 61.1444 63.1331 60.8806 62.8693C60.6169 62.6056 60.4688 62.2479 60.4688 61.875V49.9638ZM50.6786 32.3437C50.6435 32.808 50.6256 33.2768 50.625 33.75C50.6244 34.2232 50.6423 34.6919 50.6786 35.1562H34.4004C34.8964 34.302 35.1572 33.3315 35.1562 32.3437H50.6786ZM29.5312 29.5312C30.0875 29.5312 30.6313 29.6962 31.0938 30.0052C31.5563 30.3142 31.9168 30.7535 32.1297 31.2674C32.3425 31.7813 32.3982 32.3468 32.2897 32.8924C32.1812 33.438 31.9133 33.9391 31.52 34.3324C31.1267 34.7258 30.6255 34.9936 30.0799 35.1022C29.5344 35.2107 28.9689 35.155 28.455 34.9421C27.941 34.7293 27.5018 34.3688 27.1927 33.9063C26.8837 33.4437 26.7188 32.9 26.7188 32.3437C26.7196 31.5981 27.0162 30.8832 27.5435 30.356C28.0707 29.8287 28.7856 29.5321 29.5312 29.5312ZM5.625 33.75C5.62447 33.5651 5.66048 33.382 5.73096 33.2112C5.80144 33.0403 5.905 32.8851 6.03569 32.7544C6.16638 32.6237 6.32162 32.5202 6.49247 32.4497C6.66333 32.3792 6.84643 32.3432 7.03125 32.3437H23.9062C23.9067 32.6012 23.9247 32.8583 23.9602 33.1133L21.9175 35.1562H7.03125C6.65842 35.1558 6.30098 35.0075 6.03734 34.7439C5.77371 34.4802 5.62542 34.1228 5.625 33.75ZM11.5462 37.9687H19.1048L12.7651 44.3084L11.5462 37.9687ZM8.85023 54.6737L8.60748 54.431C8.34449 54.1674 8.1968 53.8102 8.1968 53.4378C8.1968 53.0654 8.34449 52.7083 8.60748 52.4446L25.1661 35.8861C25.8542 36.7338 26.7735 37.3637 27.8125 37.6994L10.8373 54.6737C10.5736 54.9369 10.2163 55.0848 9.84375 55.0848C9.47121 55.0848 9.11389 54.9369 8.85023 54.6737ZM72.6214 68.2968C72.4351 69.2591 71.9199 70.1267 71.1642 70.751C70.4085 71.3753 69.4593 71.7174 68.4791 71.7187H21.5209C20.5406 71.7174 19.5913 71.3752 18.8356 70.7507C18.0799 70.1263 17.5649 69.2585 17.3788 68.2961L14.7688 54.7207L31.5207 37.9687H51.1172C52.0808 42.0051 54.3863 45.5948 57.6562 48.15V61.875C57.6562 62.9938 58.1007 64.0669 58.8919 64.8581C59.6831 65.6492 60.7561 66.0937 61.875 66.0937C62.9939 66.0937 64.0669 65.6492 64.8581 64.8581C65.6493 64.0669 66.0938 62.9938 66.0938 61.875V51.8148C68.132 52.1309 70.2089 52.1012 72.2373 51.7269L75.2312 54.7207L72.6214 68.2968ZM81.3929 54.4319L81.1501 54.6746C80.8865 54.9376 80.5293 55.0853 80.157 55.0853C79.7846 55.0853 79.4274 54.9376 79.1638 54.6746L75.3485 50.8593C76.3911 50.4657 77.3955 49.9774 78.3489 49.4003L81.3936 52.4452C81.6566 52.7088 81.8043 53.066 81.8043 53.4383C81.8043 53.8107 81.6566 54.1679 81.3936 54.4315L81.3929 54.4319Z" fill="#B1BDC9" />
          <path d="M28.125 43.5938C27.0065 43.5951 25.9342 44.0399 25.1433 44.8308C24.3524 45.6217 23.9076 46.694 23.9062 47.8125V61.875C23.9063 62.9939 24.3507 64.0669 25.1419 64.8581C25.9331 65.6493 27.0061 66.0938 28.125 66.0938C29.2439 66.0938 30.3169 65.6493 31.1081 64.8581C31.8993 64.0669 32.3438 62.9939 32.3438 61.875V47.8125C32.3424 46.694 31.8976 45.6217 31.1067 44.8308C30.3158 44.0399 29.2435 43.5951 28.125 43.5938ZM29.5312 61.875C29.5312 62.248 29.3831 62.6056 29.1194 62.8694C28.8556 63.1331 28.498 63.2812 28.125 63.2812C27.752 63.2812 27.3944 63.1331 27.1306 62.8694C26.8669 62.6056 26.7188 62.248 26.7188 61.875V47.8125C26.7188 47.4395 26.8669 47.0819 27.1306 46.8181C27.3944 46.5544 27.752 46.4062 28.125 46.4062C28.498 46.4062 28.8556 46.5544 29.1194 46.8181C29.3831 47.0819 29.5312 47.4395 29.5312 47.8125V61.875Z" fill="#B1BDC9" />
          <path d="M39.375 43.5938C38.2565 43.5951 37.1842 44.0399 36.3933 44.8308C35.6024 45.6217 35.1576 46.694 35.1562 47.8125V61.875C35.1562 62.9939 35.6007 64.0669 36.3919 64.8581C37.1831 65.6493 38.2561 66.0938 39.375 66.0938C40.4939 66.0938 41.5669 65.6493 42.3581 64.8581C43.1493 64.0669 43.5938 62.9939 43.5938 61.875V47.8125C43.5924 46.694 43.1476 45.6217 42.3567 44.8308C41.5658 44.0399 40.4935 43.5951 39.375 43.5938ZM40.7812 61.875C40.7812 62.248 40.6331 62.6056 40.3694 62.8694C40.1056 63.1331 39.748 63.2812 39.375 63.2812C39.002 63.2812 38.6444 63.1331 38.3806 62.8694C38.1169 62.6056 37.9688 62.248 37.9688 61.875V47.8125C37.9688 47.4395 38.1169 47.0819 38.3806 46.8181C38.6444 46.5544 39.002 46.4062 39.375 46.4062C39.748 46.4062 40.1056 46.5544 40.3694 46.8181C40.6331 47.0819 40.7812 47.4395 40.7812 47.8125V61.875Z" fill="#B1BDC9" />
          <path d="M50.625 43.5938C49.5065 43.5951 48.4342 44.0399 47.6433 44.8308C46.8524 45.6217 46.4076 46.694 46.4062 47.8125V61.875C46.4062 62.9939 46.8507 64.0669 47.6419 64.8581C48.4331 65.6493 49.5061 66.0938 50.625 66.0938C51.7439 66.0938 52.8169 65.6493 53.6081 64.8581C54.3993 64.0669 54.8438 62.9939 54.8438 61.875V47.8125C54.8424 46.694 54.3976 45.6217 53.6067 44.8308C52.8158 44.0399 51.7435 43.5951 50.625 43.5938ZM52.0312 61.875C52.0312 62.248 51.8831 62.6056 51.6194 62.8694C51.3556 63.1331 50.998 63.2812 50.625 63.2812C50.252 63.2812 49.8944 63.1331 49.6306 62.8694C49.3669 62.6056 49.2188 62.248 49.2188 61.875V47.8125C49.2188 47.4395 49.3669 47.0819 49.6306 46.8181C49.8944 46.5544 50.252 46.4062 50.625 46.4062C50.998 46.4062 51.3556 46.5544 51.6194 46.8181C51.8831 47.0819 52.0312 47.4395 52.0312 47.8125V61.875Z" fill="#B1BDC9" />
          <path d="M62.5828 41.715C62.9454 42.2559 63.4277 42.706 63.9923 43.0305C64.5569 43.355 65.1887 43.545 65.8386 43.586C65.9237 43.5911 66.0087 43.5937 66.0931 43.5937C66.7017 43.594 67.3032 43.4625 67.8561 43.2081C68.409 42.9538 68.9003 42.5828 69.2962 42.1205L77.7337 32.2768C78.0942 31.8561 78.3684 31.3686 78.5405 30.8419C78.7127 30.3153 78.7794 29.76 78.7369 29.2076C78.6944 28.6552 78.5435 28.1166 78.2928 27.6225C78.0421 27.1284 77.6966 26.6885 77.276 26.328C76.8553 25.9674 76.3677 25.6933 75.8411 25.5211C75.3145 25.349 74.7592 25.2823 74.2068 25.3248C73.6544 25.3673 73.1158 25.5182 72.6217 25.7689C72.1276 26.0195 71.6877 26.3651 71.3272 26.7857L66.495 32.4232C65.7981 31.602 64.8136 31.0785 63.7431 30.9598C62.6727 30.8412 61.5974 31.1364 60.7376 31.785C59.8778 32.4336 59.2987 33.3865 59.1188 34.4484C58.939 35.5102 59.172 36.6007 59.7703 37.4962L62.5828 41.715ZM61.9014 34.8804C61.9653 34.5622 62.1371 34.2759 62.3879 34.0699C62.6387 33.8639 62.9529 33.7509 63.2775 33.75C63.371 33.75 63.4643 33.7593 63.5561 33.7776C63.7373 33.8133 63.9097 33.8847 64.0632 33.9875C64.2167 34.0903 64.3484 34.2225 64.4504 34.3765L65.2035 35.506C65.3239 35.6868 65.4846 35.8371 65.6729 35.9453C65.8612 36.0536 66.072 36.1167 66.2888 36.1298C66.5056 36.1429 66.7225 36.1056 66.9225 36.0208C67.1224 35.9361 67.3 35.8061 67.4414 35.6412L73.4626 28.6165C73.5827 28.4763 73.7294 28.3611 73.8941 28.2775C74.0588 28.194 74.2383 28.1437 74.4225 28.1295C74.6066 28.1153 74.7917 28.1376 74.9673 28.1949C75.1428 28.2523 75.3053 28.3437 75.4456 28.4639C75.5858 28.5841 75.701 28.7307 75.7845 28.8954C75.8681 29.0601 75.9184 29.2397 75.9325 29.4238C75.9467 29.6079 75.9245 29.7931 75.8671 29.9686C75.8097 30.1441 75.7183 30.3067 75.5981 30.4469L67.1606 40.2906C67.0193 40.4556 66.8417 40.5855 66.6418 40.6703C66.4419 40.7551 66.225 40.7924 66.0082 40.7794C65.7914 40.7663 65.5806 40.7032 65.3923 40.595C65.204 40.4868 65.0433 40.3365 64.9228 40.1558L62.1103 35.9371C62.0072 35.7835 61.9357 35.6111 61.8999 35.4297C61.864 35.2483 61.8646 35.0616 61.9014 34.8804Z" fill="#B1BDC9" />
        </svg>

      </div>

      <p class="woocommerce-notice woocommerce-notice--success woocommerce-thankyou-order-received">
        <?php echo apply_filters('woocommerce_thankyou_order_received_text', _e('Thank you! Your order is completed..', 'woocommerce'), $order); ?>
      </p>

      <p class="thank-you__text">
        <?php echo pll__('You can view the details of your order at your email address') ?>
      </p>

      <ul class="woocommerce-order-overview woocommerce-thankyou-order-details order_details">

        <li class="woocommerce-order-overview__order order">
          <?php _e('Order number:', 'woocommerce'); ?>
          <strong><?php echo $order->get_order_number(); // phpcs:ignore WordPress.Security.EscapeOutput.OutputNotEscaped 
                  ?></strong>
        </li>

        <li class="woocommerce-order-overview__date date">
          <?php _e('Date:', 'woocommerce'); ?>
          <strong><?php echo wc_format_datetime($order->get_date_created()); // phpcs:ignore WordPress.Security.EscapeOutput.OutputNotEscaped 
                  ?></strong>
        </li>

        <?php if (is_user_logged_in() && $order->get_user_id() === get_current_user_id() && $order->get_billing_email()) : ?>
          <li class="woocommerce-order-overview__email email">
            <?php _e('Email:', 'woocommerce'); ?>
            <strong><?php echo $order->get_billing_email(); // phpcs:ignore WordPress.Security.EscapeOutput.OutputNotEscaped 
                    ?></strong>
          </li>
        <?php endif; ?>

        <li class="woocommerce-order-overview__total total">
          <?php _e('Total:', 'woocommerce'); ?>
          <strong><?php echo $order->get_formatted_order_total(); // phpcs:ignore WordPress.Security.EscapeOutput.OutputNotEscaped 
                  ?></strong>
        </li>

        <?php if ($order->get_payment_method_title()) : ?>
          <li class="woocommerce-order-overview__payment-method method">
            <?php _e('Payment:', 'woocommerce'); ?>
            <strong><?php echo wp_kses_post($order->get_payment_method_title()); ?></strong>
          </li>
        <?php endif; ?>

      </ul>
      </div>
      </div>
      </div>
    <?php endif; ?>

    <?php
    // do_action('woocommerce_thankyou_' . $order->get_payment_method(), $order->get_id()); 
    // do_action('woocommerce_thankyou', $order->get_id());
    ?>

  <?php else : ?>

    <p class="woocommerce-notice woocommerce-notice--success woocommerce-thankyou-order-received"><?php echo apply_filters('woocommerce_thankyou_order_received_text', esc_html__('Thank you. Your order has been received.', 'woocommerce'), null); // phpcs:ignore WordPress.Security.EscapeOutput.OutputNotEscaped 
                                                                                                  ?></p>

  <?php endif; ?>

</div>